import{r as i,u as g,j as e,a as n}from"./utils-CEUOy6Iw.js";const w=()=>{const x=g(),{hotels:o=[]}=x,s=i.useRef(null),[a,u]=i.useState(!1),[c,h]=i.useState(!0),l=()=>{if(!s.current)return;const t=s.current.scrollLeft,r=s.current.scrollWidth-s.current.clientWidth;u(t>0),h(t<r-1)};i.useEffect(()=>{const t=s.current;if(t)return l(),t.addEventListener("scroll",l),window.addEventListener("resize",l),()=>{t.removeEventListener("scroll",l),window.removeEventListener("resize",l)}},[o]);const d=t=>{if(!s.current)return;const r=s.current.clientWidth;s.current.scrollBy({left:t==="left"?-r:r,behavior:"smooth"})},m=t=>{window.parent&&window.parent.postMessage&&window.parent.postMessage({type:"hotel-selected",data:{hotelId:t.id,hotelName:t.name,price:t.pricePerNight,rating:t.rating}},"*")};return o.length===0?e.jsx("div",{className:"w-full h-full flex items-center justify-center p-10 text-gray-500",children:"No hotels found"}):e.jsx("div",{className:"w-full h-full overflow-hidden",children:e.jsxs("div",{className:"relative w-full p-4",children:[e.jsx("div",{ref:s,className:"flex gap-4 overflow-x-auto scroll-smooth p-1",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:o.map((t,r)=>{const f=t.rating>=9?"bg-green-700 text-white":"bg-blue-600 text-white";return e.jsx("div",{className:n("flex-shrink-0 w-[270px]","transition-all duration-300 opacity-100 translate-y-0"),style:{transitionDelay:`${r*100}ms`},children:e.jsxs("div",{onClick:()=>m(t),className:n("rounded-3xl overflow-hidden","transition-all duration-300 cursor-pointer h-auto flex flex-col"),children:[e.jsx("div",{className:"flex-shrink-0 flex items-center justify-center",children:e.jsx("figure",{className:"relative w-[270px] h-[270px] overflow-hidden bg-gray-100 rounded-3xl mt-3",children:e.jsx("img",{alt:t.name,className:"w-full h-full object-cover block",src:t.imageUrl||"https://images.trvl-media.com/lodging/1000000/30000/27900/27865/3102f1d9.jpg?impolicy=ccrop&w=1000&h=666&q=medium",loading:"lazy",onError:p=>{p.target.src="https://via.placeholder.com/400x400/e0e0e0/666666?text=Hotel+Image"}})})}),e.jsxs("div",{className:"p-3 flex-1 flex flex-col",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"flex justify-between",children:e.jsxs("div",{className:"flex items-start justify-between flex-1",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-semibold leading-snug text-gray-900 mb-1 pr-2 line-clamp-2",children:t.name}),t.neighborhood&&e.jsx("div",{className:"text-sm text-gray-600 truncate mb-2",children:t.neighborhood})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:n("inline-flex items-center justify-center min-w-[32px] h-6 px-2","rounded-md text-[13px] font-bold",f),children:t.rating.toFixed(1)})})]})})}),e.jsxs("div",{className:"mt-auto",children:[e.jsxs("div",{className:"flex flex-col mb-2",children:[e.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:e.jsxs("div",{className:"text-xl font-bold text-gray-900",children:["$",t.pricePerNight.toLocaleString()," total"]})}),e.jsx("div",{className:"text-sm text-gray-600 truncate",children:"USD â€¢ Includes taxes and fees"})]}),e.jsx("button",{className:n("w-full bg-gray-900 text-white border-none rounded-3xl py-2.5 px-4","text-sm font-semibold cursor-pointer transition-colors duration-200","hover:bg-gray-800 dark:bg-white dark:text-gray-900 dark:hover:bg-gray-100"),style:{zIndex:200},children:"Book on Expedia"})]})]})]})},t.id)})}),e.jsxs("div",{className:"absolute top-1/2 left-0 right-0 flex justify-between -translate-y-1/2 pointer-events-none z-10",children:[e.jsx("button",{onClick:()=>d("left"),disabled:!a,className:n("pointer-events-auto w-10 h-10 rounded-3xl bg-white border border-gray-300","shadow-md cursor-pointer flex items-center justify-center transition-all duration-200 mx-2","hover:bg-gray-50 hover:scale-105 disabled:opacity-30 disabled:cursor-not-allowed",!a&&"opacity-0 pointer-events-none"),"aria-label":"Show previous card",children:e.jsx("svg",{className:"w-6 h-6 stroke-gray-900",viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("button",{onClick:()=>d("right"),disabled:!c,className:n("pointer-events-auto w-10 h-10 rounded-3xl bg-white border border-gray-300","shadow-md cursor-pointer flex items-center justify-center transition-all duration-200 mx-2","hover:bg-gray-50 hover:scale-105 disabled:opacity-30 disabled:cursor-not-allowed",!c&&"opacity-0 pointer-events-none"),"aria-label":"Show next card",children:e.jsx("svg",{className:"w-6 h-6 stroke-gray-900",viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]})})};export{w as E};
