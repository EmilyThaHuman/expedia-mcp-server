import{r as i,u as E,j as e,a as n}from"./utils-CEUOy6Iw.js";const B=()=>{const h=E(),{flights:l=[],origin:c="SEA",destination:d="SJD",departureDate:v="Nov 22",isRoundTrip:f=!1}=h,t=i.useRef(null),[x,g]=i.useState(!1),[m,b]=i.useState(!0),a=()=>{if(!t.current)return;const s=t.current.scrollLeft,r=t.current.scrollWidth-t.current.clientWidth;g(s>0),b(s<r-1)};i.useEffect(()=>{const s=t.current;if(s)return a(),s.addEventListener("scroll",a),window.addEventListener("resize",a),()=>{s.removeEventListener("scroll",a),window.removeEventListener("resize",a)}},[l]);const p=s=>{if(!t.current)return;const r=t.current.clientWidth*.8;t.current.scrollBy({left:s==="left"?-r:r,behavior:"smooth"})},j=s=>s===0?"Nonstop":`${s} stop${s>1?"s":""}`,y=(s,r)=>{const o=parseInt(s.split(":")[0]);return parseInt(r.split(":")[0])<o||s.includes("PM")&&r.includes("AM")},N=s=>{window.parent&&window.parent.postMessage&&window.parent.postMessage({type:"flight-selected",data:{flightId:s.id,flightNumber:s.flightNumber,airline:s.airline,price:s.price,origin:c,destination:d,departureTime:s.departureTime,arrivalTime:s.arrivalTime,duration:s.duration,stops:s.stops}},"*")};return l.length===0?e.jsx("div",{className:"w-full h-full flex items-center justify-center p-10 text-gray-500",children:"No flights found"}):e.jsx("div",{className:"w-full h-full overflow-hidden",children:e.jsxs("div",{className:"relative w-full p-4",children:[e.jsx("div",{ref:t,className:"flex gap-3 overflow-x-auto scroll-smooth p-1",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:l.map((s,r)=>{const o=f?"Round trip":"One way",u=j(s.stops),w=y(s.departureTime,s.arrivalTime),k=s.imageUrl||"https://images.trvl-media.com/media/content/expus/graphics/static_content/fusion/v0.1b/images/airlines/vector/s/multiple_airlines_logo_sq.svg";return e.jsx("div",{className:n("flex-shrink-0 w-[320px] transition-all duration-300","opacity-100 translate-y-0"),style:{transitionDelay:`${r*100}ms`},children:e.jsxs("div",{onClick:()=>N(s),className:n("bg-transparent border border-gray-200 rounded-3xl overflow-hidden","transition-all duration-300 cursor-pointer h-[320px] flex flex-col"),children:[e.jsx("div",{className:"p-3",children:e.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-4 mb-2",children:[e.jsxs("div",{className:"flex flex-col justify-end",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:o}),e.jsx("div",{className:"text-sm text-gray-600",children:v})]}),e.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900",children:["$",s.price]}),e.jsx("div",{className:"text-sm text-gray-600",children:"USD per adult"})]})]})}),e.jsx("div",{className:"px-3 pb-2",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{className:"w-8 h-8 object-contain flex-shrink-0",alt:s.airline,src:k,onError:S=>{S.target.src="https://images.trvl-media.com/media/content/expus/graphics/static_content/fusion/v0.1b/images/airlines/vector/s/multiple_airlines_logo_sq.svg"}}),e.jsx("div",{className:"flex-1 min-w-[220px]",children:e.jsxs("div",{className:"w-full flex items-center gap-2",children:[e.jsx("div",{className:"text-base font-semibold whitespace-nowrap text-gray-900",children:s.departureTime}),e.jsxs("div",{className:"flex-1 flex items-center gap-1",children:[e.jsx("div",{className:"h-0.5 bg-gray-300 flex-1"}),e.jsx("svg",{className:"w-2.5 h-2.5 fill-gray-300 flex-shrink-0",viewBox:"0 0 10 10",children:e.jsx("circle",{cx:"5",cy:"5",r:"5"})}),e.jsx("div",{className:"h-0.5 bg-gray-300 flex-1"})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"text-base font-semibold whitespace-nowrap text-gray-900",children:s.arrivalTime}),w&&e.jsx("div",{className:"ml-1",children:e.jsx("sup",{className:"text-[10px] text-red-700 font-bold",children:"+1"})})]})]})})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900",children:[c," - ",d]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.duration}),e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["â€¢ ",u]})]}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:s.cabinClass})]})]})}),e.jsx("div",{className:"px-3 pb-3 mt-auto",children:e.jsxs("div",{className:"flex flex-col gap-1 pt-2 border-t border-gray-100",children:[e.jsx("button",{className:n("w-full bg-gray-900 text-white border-none rounded-3xl py-2.5 px-4","text-sm font-semibold cursor-pointer transition-colors duration-200","hover:bg-gray-800 dark:bg-white dark:text-gray-900 dark:hover:bg-gray-100"),style:{zIndex:200},children:"Book on Expedia"}),e.jsx("div",{className:"text-center text-blue-600 text-sm font-semibold cursor-pointer py-1 hover:text-blue-700 hover:underline transition-colors",children:"See fare details"})]})})]})},s.id)})}),e.jsxs("div",{className:"absolute top-1/2 left-0 right-0 flex justify-between -translate-y-1/2 pointer-events-none z-10",children:[e.jsx("button",{onClick:()=>p("left"),disabled:!x,className:n("pointer-events-auto w-10 h-10 rounded-3xl bg-white border border-gray-300","shadow-md cursor-pointer flex items-center justify-center transition-all duration-200 mx-2","hover:bg-gray-50 hover:scale-105 disabled:opacity-30 disabled:cursor-not-allowed",!x&&"opacity-0 pointer-events-none"),"aria-label":"Show previous card",children:e.jsx("svg",{className:"w-6 h-6 stroke-gray-900",viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"15 18 9 12 15 6"})})}),e.jsx("button",{onClick:()=>p("right"),disabled:!m,className:n("pointer-events-auto w-10 h-10 rounded-3xl bg-white border border-gray-300","shadow-md cursor-pointer flex items-center justify-center transition-all duration-200 mx-2","hover:bg-gray-50 hover:scale-105 disabled:opacity-30 disabled:cursor-not-allowed",!m&&"opacity-0 pointer-events-none"),"aria-label":"Show next card",children:e.jsx("svg",{className:"w-6 h-6 stroke-gray-900",viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})]})})};export{B as E};
